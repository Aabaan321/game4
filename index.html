<!DOCTYPE html>
<html>
<head>
    <title>Ping Pong</title>
    <style>
        canvas {
            border: 2px solid black;
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // Game objects
        const ball = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            size: 10,
            dx: 5,
            dy: 5
        };

        const paddle = {
            width: 10,
            height: 100,
            speed: 8
        };

        const player = {
            x: 50,
            y: canvas.height / 2 - paddle.height / 2
        };

        const computer = {
            x: canvas.width - 50 - paddle.width,
            y: canvas.height / 2 - paddle.height / 2
        };

        // Key controls
        const keys = {
            up: false,
            down: false
        };

        // Event listeners
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowUp') keys.up = true;
            if (e.key === 'ArrowDown') keys.down = true;
        });

        document.addEventListener('keyup', (e) => {
            if (e.key === 'ArrowUp') keys.up = false;
            if (e.key === 'ArrowDown') keys.down = false;
        });

        function movePaddles() {
            // Player paddle movement
            if (keys.up && player.y > 0) player.y -= paddle.speed;
            if (keys.down && player.y < canvas.height - paddle.height) player.y += paddle.speed;

            // Computer paddle movement
            const computerCenter = computer.y + paddle.height / 2;
            const ballCenter = ball.y;
            
            if (computerCenter < ballCenter - 35) {
                computer.y += paddle.speed * 0.6;
            } else if (computerCenter > ballCenter + 35) {
                computer.y -= paddle.speed * 0.6;
            }
        }

        function moveBall() {
            ball.x += ball.dx;
            ball.y += ball.dy;

            // Top and bottom collisions
            if (ball.y < 0 || ball.y > canvas.height) {
                ball.dy *= -1;
            }

            // Paddle collisions
            if (
                (ball.x < player.x + paddle.width && 
                ball.x > player.x && 
                ball.y > player.y && 
                ball.y < player.y + paddle.height) ||
                (ball.x > computer.x && 
                ball.x < computer.x + paddle.width && 
                ball.y > computer.y && 
                ball.y < computer.y + paddle.height)
            ) {
                ball.dx *= -1;
            }

            // Reset ball if it goes out
            if (ball.x < 0 || ball.x > canvas.width) {
                ball.x = canvas.width / 2;
                ball.y = canvas.height / 2;
                ball.dx = 5 * (Math.random() < 0.5 ? 1 : -1);
                ball.dy = 5 * (Math.random() < 0.5 ? 1 : -1);
            }
        }

        function draw() {
            // Clear canvas
            ctx.fillStyle = 'black';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw middle line
            ctx.strokeStyle = 'white';
            ctx.setLineDash([5, 15]);
            ctx.beginPath();
            ctx.moveTo(canvas.width / 2, 0);
            ctx.lineTo(canvas.width / 2, canvas.height);
            ctx.stroke();

            // Draw paddles and ball
            ctx.fillStyle = 'white';
            ctx.fillRect(player.x, player.y, paddle.width, paddle.height);
            ctx.fillRect(computer.x, computer.y, paddle.width, paddle.height);
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, ball.size, 0, Math.PI * 2);
            ctx.fill();
        }

        function gameLoop() {
            movePaddles();
            moveBall();
            draw();
            requestAnimationFrame(gameLoop);
        }

        gameLoop();
    </script>
</body>
</html>
